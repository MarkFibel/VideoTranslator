# VideoTranslator

–ü—Ä–æ–µ–∫—Ç VideoTranslator –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–µ—Ä–µ–≤–æ–¥–∞ –≤–∏–¥–µ–æ —Å –ø–æ–º–æ—â—å—é –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤–∏–¥–µ–æ–º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤, –∞—É–¥–∏–æ–¥–æ—Ä–æ–∂–µ–∫ –∏ —Ç–µ–∫—Å—Ç–∞. –û—Å–Ω–æ–≤–Ω—ã–µ –º–æ–¥—É–ª–∏ –≤–∫–ª—é—á–∞—é—Ç:

- **–û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Ñ—Ä–µ–π–º–æ–≤** ‚Äî –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–∞–¥—Ä–æ–≤ –≤–∏–¥–µ–æ, –Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∏–ª–∏ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π.
- **–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∞—É–¥–∏–æ** ‚Äî –≤—ã–¥–µ–ª–µ–Ω–∏–µ –∏ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è –∞—É–¥–∏–æ–¥–æ—Ä–æ–∂–µ–∫, —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ä–µ—á–∏ –∏–ª–∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –∑–≤—É–∫–∞.
- **–ü–µ—Ä–µ–≤–æ–¥—á–∏–∫ —Ç–µ–∫—Å—Ç–∞** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ–≤–æ–¥ —Ç–µ–∫—Å—Ç–∞, –ø–æ–ª—É—á–µ–Ω–Ω–æ–≥–æ –∏–∑ –≤–∏–¥–µ–æ –∏–ª–∏ –∞—É–¥–∏–æ, –Ω–∞ –Ω—É–∂–Ω—ã–π —è–∑—ã–∫.

–≠—Ç–æ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –ø–æ–º–æ–≥–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏ –≤–∏–¥–µ–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞, –¥–µ–ª–∞—Ç—å –µ–≥–æ –±–æ–ª–µ–µ –¥–æ—Å—Ç—É–ø–Ω—ã–º –¥–ª—è –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω–æ–π –∞—É–¥–∏—Ç–æ—Ä–∏–∏.

---

## –û—Å–Ω–æ–≤–Ω—ã–µ –º–æ–¥—É–ª–∏
- **Frame Processor**: –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫–∞–¥—Ä–æ–≤ –∏–∑ –≤–∏–¥–µ–æ, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π, —Å–æ–∑–¥–∞–Ω–∏–µ —Å–ª–∞–π–¥-—à–æ—É –∏–ª–∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞.
- **Audio Processor**: –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –∞—É–¥–∏–æ–¥–æ—Ä–æ–∂–µ–∫, –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –∑–≤—É–∫–∞, —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ä–µ—á–∏.
- **Text Translator**: –ø–µ—Ä–µ–≤–æ–¥ —Ç–µ–∫—Å—Ç–∞ —Å –æ–¥–Ω–æ–≥–æ —è–∑—ã–∫–∞ –Ω–∞ –¥—Ä—É–≥–æ–π, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å API –ø–µ—Ä–µ–≤–æ–¥—á–∏–∫–æ–≤.

---

## –ò—Å–ø–æ–ª—å–∑—É–µ–º–∞—è –≤–µ—Ä—Å–∏—è Python

–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Python –≤–µ—Ä—Å–∏–∏ 3.12.5.  
–°–∫–∞—á–∞—Ç—å –º–æ–∂–Ω–æ –ø–æ —Å—Å—ã–ª–∫–µ: [Python 3.12.5](https://www.python.org/downloads/release/python-3125/)

---

## –û–ø–∏—Å–∞–Ω–∏–µ –ù–µ–π—Ä–æ–Ω–∫–∏
## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π OCR

| ‚Ññ | –ú–æ–¥–µ–ª—å | CER ‚Üì | WER ‚Üì | LER ‚Üì | EMR ‚Üë | –ö—Ä–∞—Ç–∫–∏–π –≤—ã–≤–æ–¥ |
|---|---------|--------|--------|--------|--------|----------------|
| 1 | **DocTR_db_resnet50_crnn_vgg16_bn** | 0.865 | 0.971 | 0.971 | 0.029 | –ù–∞–∏–±–æ–ª—å—à–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—à–∏–±–æ–∫, –ø–æ—á—Ç–∏ –≤—Å–µ —Å–ª–æ–≤–∞ —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω—ã –Ω–µ–≤–µ—Ä–Ω–æ. –¢—Ä–µ–±—É–µ—Ç—Å—è –¥–æ–æ–±—É—á–µ–Ω–∏–µ –∏–ª–∏ —É–ª—É—á—à–µ–Ω–∏–µ –ø—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∏. |
| 2 | **PP-OCRv5** | 0.624 | 0.510 | 0.510 | 0.490 | –õ—É—á—à–∞—è –º–æ–¥–µ–ª—å —Å—Ä–µ–¥–∏ —Å—Ä–∞–≤–Ω–∏–≤–∞–µ–º—ã—Ö: –ø–æ—á—Ç–∏ –ø–æ–ª–æ–≤–∏–Ω–∞ –ø—Ä–∏–º–µ—Ä–æ–≤ —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–∞ –±–µ–∑ –æ—à–∏–±–æ–∫. –•–æ—Ä–æ—à–∏–π –±–∞–ª–∞–Ω—Å –º–µ—Ç—Ä–∏–∫. |
| 3 | **EasyOCR** | 0.588 | 0.556 | 0.556 | 0.444 | –°—Ö–æ–∂–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å PP-OCRv5, –Ω–µ–º–Ω–æ–≥–æ –ª—É—á—à–µ –ø–æ CER, –Ω–æ —á—É—Ç—å —Ö—É–∂–µ –ø–æ EMR. –°—Ä–µ–¥–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å —Ç–æ—á–Ω–æ—Å—Ç–∏. |

...

---

## –û–ø–∏—Å–∞–Ω–∏–µ –§—Ä–æ–Ω—Ç–∞

...

---

## –ë–µ–∫–µ–Ω–¥ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

![Backend Architecture](./docs/backend_architecture.png)

–ë—ç–∫–µ–Ω–¥ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –¥–≤—É—Ö –æ—Å–Ω–æ–≤–Ω—ã—Ö —á–∞—Å—Ç–µ–π: API —Å–µ—Ä–≤–µ—Ä –∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–µ—Ä–≤–∏—Å–æ–≤.
API —Å–µ—Ä–≤–µ—Ä –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É HTTP –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—é.
–û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–µ—Ä–≤–∏—Å–æ–≤ —Ä–µ–∞–ª–∏–∑—É—é—Ç –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏.

### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

**–û—Å–Ω–æ–≤–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:**
- **FastAPI** - —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π, –≤—ã—Å–æ–∫–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã–π –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è API.
- **Python 3.12+** - –∞–∫—Ç—É–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è Python.
- **Asyncio** - –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ I/O.
- **aio-pika** - –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–ª–∏–µ–Ω—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å RabbitMQ.
- **jsonrpcserver** - —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è JSON-RPC –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ –¥–ª—è –º–µ–∂—Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è.

**–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏:**
- **Pydantic v2** - –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏.
- **Uvicorn** - ASGI —Å–µ—Ä–≤–µ—Ä –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
- **python-multipart** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤.
- **aiofiles** - –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–æ–π.
- **fastsession** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏—è–º–∏ —Å –∫–∞—Å—Ç–æ–º–Ω—ã–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º.

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
src/
‚îú‚îÄ‚îÄ app.py                    # –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª, –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è FastAPI
‚îú‚îÄ‚îÄ routes.py                 # –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö —Ä–æ—É—Ç–µ—Ä–æ–≤
‚îú‚îÄ‚îÄ worker.py                 # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ RabbitMQ –≤–æ—Ä–∫–µ—Ä–∞
‚îú‚îÄ‚îÄ config/                   # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ app_config.py         # –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (—Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–æ–≤, –ø–æ—Ä—Ç—ã)
‚îÇ   ‚îú‚îÄ‚îÄ logging_config.py     # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–∏—Å—Ç–µ–º—ã –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ rabbitmq_config.py    # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ RabbitMQ
‚îÇ   ‚îî‚îÄ‚îÄ services/             # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–ª—è –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ (auto-created)
‚îÇ       ‚îú‚îÄ‚îÄ base_config.py    # –ë–∞–∑–æ–≤—ã–π —à–∞–±–ª–æ–Ω –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îÇ       ‚îú‚îÄ‚îÄ test_config.py    # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
‚îÇ       ‚îî‚îÄ‚îÄ ml_config.py      # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è ML —Å–µ—Ä–≤–∏—Å–∞
‚îú‚îÄ‚îÄ routers/                  # HTTP —Ä–æ—É—Ç–µ—Ä—ã (endpoints)
‚îÇ   ‚îú‚îÄ‚îÄ file_router.py        # Endpoints –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ñ–∞–π–ª–∞–º–∏
‚îÇ   ‚îî‚îÄ‚îÄ frontend_router.py    # Endpoints –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
‚îú‚îÄ‚îÄ services/                 # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –∏ —Å–µ—Ä–≤–∏—Å—ã
‚îÇ   ‚îú‚îÄ‚îÄ base_service.py       # –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ test_service.py       # –¢–µ—Å—Ç–æ–≤—ã–π —Å–µ—Ä–≤–∏—Å
‚îÇ   ‚îî‚îÄ‚îÄ ml_service/           # ML —Å–µ—Ä–≤–∏—Å –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏
‚îÇ       ‚îú‚îÄ‚îÄ ml_service.py     # –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ ML —Å–µ—Ä–≤–∏—Å–∞
‚îÇ       ‚îî‚îÄ‚îÄ ml_pipeline.py    # –ü–∞–π–ø–ª–∞–π–Ω –æ–±—Ä–∞–±–æ—Ç–∫–∏
‚îú‚îÄ‚îÄ schemas/                  # Pydantic –º–æ–¥–µ–ª–∏ –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏
‚îÇ   ‚îî‚îÄ‚îÄ base_schema.py        # –ë–∞–∑–æ–≤—ã–µ —Å—Ö–µ–º—ã –æ—Ç–≤–µ—Ç–æ–≤
‚îú‚îÄ‚îÄ transport/                # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è –º–µ–∂—Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ json_rpc/             # –†–µ–∞–ª–∏–∑–∞—Ü–∏—è JSON-RPC
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ dispatcher.py     # –û—Å–Ω–æ–≤–Ω–æ–π –¥–∏—Å–ø–µ—Ç—á–µ—Ä –Ω–∞ –±–∞–∑–µ jsonrpcserver
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ service_loader.py # –õ–æ–≥–∏–∫–∞ –∞–≤—Ç–æ–æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ rabbitmq/             # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å RabbitMQ
‚îÇ       ‚îú‚îÄ‚îÄ connection.py     # –ú–µ–Ω–µ–¥–∂–µ—Ä —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π —Å –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º
‚îÇ       ‚îú‚îÄ‚îÄ consumer.py       # –õ–æ–≥–∏–∫–∞ –∫–æ–Ω—Å—å—é–º–µ—Ä–∞ (RPC —Å–µ—Ä–≤–µ—Ä)
‚îÇ       ‚îî‚îÄ‚îÄ producer.py       # –õ–æ–≥–∏–∫–∞ –ø—Ä–æ–¥—é—Å–µ—Ä–∞ (RPC –∫–ª–∏–µ–Ω—Ç, Direct Reply-to)
‚îú‚îÄ‚îÄ utils/                    # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ custom_session_store.py # –ö–∞—Å—Ç–æ–º–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ —Å–µ—Å—Å–∏–π —Å –æ—á–∏—Å—Ç–∫–æ–π
‚îÇ   ‚îú‚îÄ‚îÄ files_utils.py        # –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ñ–∞–π–ª–∞–º–∏
‚îÇ   ‚îî‚îÄ‚îÄ string_utils.py       # –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å–æ —Å—Ç—Ä–æ–∫–∞–º–∏
‚îî‚îÄ‚îÄ exceptions/               # –ö–∞—Å—Ç–æ–º–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è
    ‚îî‚îÄ‚îÄ rpc_exceptions.py     # RPC-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è
```

### API —Å–µ—Ä–≤–µ—Ä

API —Å–µ—Ä–≤–µ—Ä —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º FastAPI –∏ —è–≤–ª—è–µ—Ç—Å—è —Ç–æ—á–∫–æ–π –≤—Ö–æ–¥–∞ –¥–ª—è –≤—Å–µ—Ö HTTP –∑–∞–ø—Ä–æ—Å–æ–≤. –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:

#### –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (`app.py`)

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ —Ñ–∞–±—Ä–∏—á–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é `get_application()`, –∫–æ—Ç–æ—Ä–∞—è:
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç FastAPI —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –Ω–∞–∑–≤–∞–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞, –≤–µ—Ä—Å–∏–∏ –∏ —Ä–µ–∂–∏–º–∞ –æ—Ç–ª–∞–¥–∫–∏
- –ü–æ–¥–∫–ª—é—á–∞–µ—Ç –≤—Å–µ —Ä–æ—É—Ç–µ—Ä—ã —á–µ—Ä–µ–∑ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é `get_apps_router()`
- –ú–æ–Ω—Ç–∏—Ä—É–µ—Ç —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã –∏–∑ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `public/` –¥–ª—è –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å–∏—Å—Ç–µ–º—É –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –∏–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

```python
app = get_application()
# –ó–∞–ø—É—Å–∫: uvicorn src.app:app --host 0.0.0.0 --port 8000
```

#### –°–∏—Å—Ç–µ–º–∞ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏

–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω–∞ –º–æ–¥—É–ª—å–Ω–æ —á–µ—Ä–µ–∑ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ä–æ—É—Ç–µ—Ä—ã:

**Frontend Router** (`frontend_router.py`):
- –û–±—Å–ª—É–∂–∏–≤–∞–µ—Ç –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–¥–∞–µ—Ç HTML –∫–æ–Ω—Ç–µ–Ω—Ç —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π CSRF –∑–∞—â–∏—Ç—ã
- Endpoint: `GET /` - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `index.html`

**File Router** (`file_router.py`):
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–≥—Ä—É–∑–∫—É —Ñ–∞–π–ª–æ–≤ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- Endpoint: `POST /files/upload` - –ø—Ä–∏–Ω–∏–º–∞–µ—Ç multipart/form-data —Å —Ñ–∞–π–ª–æ–º
- –í–∞–ª–∏–¥–∏—Ä—É–µ—Ç —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ (–º–∞–∫—Å. 10MB –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ (–∏–º—è, —Ç–∏–ø, —Ä–∞–∑–º–µ—Ä, –≤—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏)
- –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–¥–∞—á–∏ –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É –≤ RabbitMQ —á–µ—Ä–µ–∑ RPCProducer

#### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (`config/`)

**–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è** (`app_config.py`):
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç Pydantic Settings –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π `.env` —Ñ–∞–π–ª–æ–≤:
- `PROJECT_NAME` - –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
- `VERSION` - –≤–µ—Ä—Å–∏—è API
- `DEBUG` - —Ä–µ–∂–∏–º –æ—Ç–ª–∞–¥–∫–∏
- `LOG_LEVEL` - —É—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è (DEBUG, INFO, WARNING, ERROR)
- `LOG_DIR` - –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è —Ñ–∞–π–ª–æ–≤ –ª–æ–≥–æ–≤
- `MAX_FILE_SIZE` - –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –∑–∞–≥—Ä—É–∂–∞–µ–º–æ–≥–æ —Ñ–∞–π–ª–∞ (10MB)

**–ù–∞—Å—Ç—Ä–æ–π–∫–∏ RabbitMQ** (`rabbitmq_config.py`):
–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±—Ä–æ–∫–µ—Ä—É —Å–æ–æ–±—â–µ–Ω–∏–π:
- `RABBITMQ_HOST` - –∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞ RabbitMQ
- `RABBITMQ_PORT` - –ø–æ—Ä—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- `RABBITMQ_USER` - –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `RABBITMQ_PASSWORD` - –ø–∞—Ä–æ–ª—å
- `RABBITMQ_RPC_QUEUE` - –∏–º—è –æ—á–µ—Ä–µ–¥–∏ –¥–ª—è RPC –∑–∞–ø—Ä–æ—Å–æ–≤
- `url` - –ø–æ–ª–Ω—ã–π URL –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ AMQP

**–°–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è** (`logging_config.py`):
–ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏:
- **Console Handler** - –≤—ã–≤–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª—å –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- **File Info Handler** - –∑–∞–ø–∏—Å—å –æ–±—â–∏—Ö –ª–æ–≥–æ–≤ –≤ `var/log/app.log` —Å —Ä–æ—Ç–∞—Ü–∏–µ–π (5 —Ñ–∞–π–ª–æ–≤ –ø–æ 10MB)
- **File Error Handler** - –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ñ–∞–π–ª `var/log/error.log` —Ç–æ–ª—å–∫–æ –¥–ª—è –æ—à–∏–±–æ–∫
- –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –ª–æ–≥–æ–≤ —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –º–µ—Ç–∫–∞–º–∏, –∏–º–µ–Ω–µ–º –º–æ–¥—É–ª—è –∏ –Ω–æ–º–µ—Ä–æ–º —Å—Ç—Ä–æ–∫–∏
- –°–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è –ª–æ–≥–≥–µ—Ä–æ–≤ uvicorn –∏ fastapi

#### –°—Ö–µ–º—ã –¥–∞–Ω–Ω—ã—Ö (`schemas/`)

–ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è Pydantic –º–æ–¥–µ–ª–∏ –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤—Ö–æ–¥—è—â–∏—Ö –∏ –∏—Å—Ö–æ–¥—è—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö:

**BaseResponse** - –±–∞–∑–æ–≤–∞—è —Å—Ö–µ–º–∞ –¥–ª—è –≤—Å–µ—Ö –æ—Ç–≤–µ—Ç–æ–≤ API:
```python
{
    "status": "success" | "error",
    "message": "–û–ø–∏—Å–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞",
    "data": {...},  # –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç–∞
    "error": "–î–µ—Ç–∞–ª–∏ –æ—à–∏–±–∫–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å)"
}
```

#### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π:
- HTTP –æ—à–∏–±–∫–∏ –≤—ã–±—Ä–∞—Å—ã–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ `HTTPException` —Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º–∏ —Å—Ç–∞—Ç—É—Å-–∫–æ–¥–∞–º–∏
- –í—Å–µ –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è —Å –ø–æ–ª–Ω—ã–º —Å—Ç–µ–∫-—Ç—Ä–µ–π—Å–æ–º
- –ö–ª–∏–µ–Ω—Ç –ø–æ–ª—É—á–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π JSON –æ—Ç–≤–µ—Ç –¥–∞–∂–µ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
- –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ HTTP —Å—Ç–∞—Ç—É—Å-–∫–æ–¥—ã (400, 404, 500 –∏ —Ç.–¥.)
- RPC –∏—Å–∫–ª—é—á–µ–Ω–∏—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –≤ `src/exceptions/rpc_exceptions.py`

#### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏—è–º–∏

–°–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–∞—Å—Ç–æ–º–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ —Å–µ—Å—Å–∏–π `CustomSessionStore`:
- –†–∞—Å—à–∏—Ä—è–µ—Ç `MemoryStore` –∏–∑ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ `fastsession`
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç callback-–º–µ—Ö–∞–Ω–∏–∑–º –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ —Ñ–∞–π–ª–æ–≤ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ —Å–µ—Å—Å–∏–π
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–±–æ—Ä–∫–∞ –º—É—Å–æ—Ä–∞ (GC) –¥–ª—è —Å—Ç–∞—Ä—ã—Ö —Å–µ—Å—Å–∏–π
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–æ–µ –≤—Ä–µ–º—è –∂–∏–∑–Ω–∏ —Å–µ—Å—Å–∏–π (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 12 —á–∞—Å–æ–≤)
- –ü–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è –ø–µ—Ä–µ–¥ —É–¥–∞–ª–µ–Ω–∏–µ–º —Å–µ—Å—Å–∏–∏

### –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–µ—Ä–≤–∏—Å–æ–≤ (Workers)

–û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–µ—Ä–≤–∏—Å–æ–≤ (–≤–æ—Ä–∫–µ—Ä—ã) ‚Äî —ç—Ç–æ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–ø–æ–ª–Ω—è—é—Ç –æ—Å–Ω–æ–≤–Ω—É—é –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É. –û–Ω–∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—Ç–¥–µ–ª–µ–Ω—ã –æ—Ç API-—Å–µ—Ä–≤–µ—Ä–∞ –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É—é—Ç —Å –Ω–∏–º —á–µ—Ä–µ–∑ –±—Ä–æ–∫–µ—Ä —Å–æ–æ–±—â–µ–Ω–∏–π RabbitMQ.

#### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–µ—Ä–≤–∏—Å–æ–≤ –∏ JSON-RPC

–í –æ—Å–Ω–æ–≤–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –ª–µ–∂–∏—Ç –º–µ—Ö–∞–Ω–∏–∑–º **JSON-RPC**, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≤—ã–∑–æ–≤—ã –º–µ—Ç–æ–¥–æ–≤ —Å–µ—Ä–≤–∏—Å–æ–≤.

- **`BaseService`**: –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã –Ω–∞—Å–ª–µ–¥—É—é—Ç—Å—è –æ—Ç —ç—Ç–æ–≥–æ –±–∞–∑–æ–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞. –û–Ω –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –∑–∞–≥—Ä—É–∑–∫—É –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏–∑ `src/config/services/`. –ï—Å–ª–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª –¥–ª—è —Å–µ—Ä–≤–∏—Å–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç, –æ–Ω —Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.
- **–ê–≤—Ç–æ–æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–æ–≤**: `ServiceLoader` (`src/transport/json-rpc/service_loader.py`) –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —Å–∫–∞–Ω–∏—Ä—É–µ—Ç –∫–∞—Ç–∞–ª–æ–≥ `src/services/`, –Ω–∞—Ö–æ–¥–∏—Ç –≤—Å–µ—Ö –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–æ–≤ `BaseService` –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç –∏—Ö –º–µ—Ç–æ–¥—ã.
- **`JSONRPCDispatcher`**: –Ø–¥—Ä–æ, –ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω–æ–µ –Ω–∞ `jsonrpcserver`, –∫–æ—Ç–æ—Ä–æ–µ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç JSON-RPC –∑–∞–ø—Ä–æ—Å—ã, –Ω–∞—Ö–æ–¥–∏—Ç –Ω—É–∂–Ω—ã–π –º–µ—Ç–æ–¥ –∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –µ–≥–æ. –ò–º—è –º–µ—Ç–æ–¥–∞ –≤ RPC —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –∏–∑ –∏–º–µ–Ω–∏ —Å–µ—Ä–≤–∏—Å–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `VideoProcessingService` -> `video_processing.execute`).
- **–ö–æ–Ω—Ç—Ä–∞–∫—Ç —Å–µ—Ä–≤–∏—Å–∞**: –ö–∞–∂–¥—ã–π —Å–µ—Ä–≤–∏—Å –¥–æ–ª–∂–µ–Ω —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥ `execute(data: dict)`, –∫–æ—Ç–æ—Ä—ã–π –∏ –±—É–¥–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å—Å—è —É–¥–∞–ª–µ–Ω–Ω–æ.

#### –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —á–µ—Ä–µ–∑ RabbitMQ

API-—Å–µ—Ä–≤–µ—Ä –∏ –≤–æ—Ä–∫–µ—Ä—ã –æ–±—â–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ RabbitMQ, —á—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å.

- **`worker.py`**: –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –≤–æ—Ä–∫–µ—Ä–∞ –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ (`python -m src.worker`). –í–æ—Ä–∫–µ—Ä —Å–ª—É—à–∞–µ—Ç –æ—á–µ—Ä–µ–¥—å RabbitMQ.
- **`RPCConsumer`**: –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –≤–æ—Ä–∫–µ—Ä–∞, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –∏–∑ –æ—á–µ—Ä–µ–¥–∏. –ü—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–Ω –ø–µ—Ä–µ–¥–∞–µ—Ç –µ–≥–æ –≤ `JSONRPCDispatcher` –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–≥–æ –º–µ—Ç–æ–¥–∞ —Å–µ—Ä–≤–∏—Å–∞.
- **`RPCProducer`**: –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ API-—Å–µ—Ä–≤–µ—Ä–∞, –∫–æ—Ç–æ—Ä—ã–π –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–¥–∞—á–∏ –≤ –æ—á–µ—Ä–µ–¥—å. –û–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–∞—Ç—Ç–µ—Ä–Ω **Direct Reply-to** –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –æ—Ç–≤–µ—Ç–∞ –æ—Ç –≤–æ—Ä–∫–µ—Ä–∞ –±–µ–∑ —Å–æ–∑–¥–∞–Ω–∏—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ—á–µ—Ä–µ–¥–µ–π.
- **`ConnectionManager`**: –£–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º –∫ RabbitMQ –∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –≤ —Å–ª—É—á–∞–µ —Å–±–æ–µ–≤.

#### –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã

1.  **API-—Å–µ—Ä–≤–µ—Ä** (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Ñ–∞–π–ª–∞) –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `RPCProducer` –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –∑–∞–¥–∞—á–∏ –≤ –æ—á–µ—Ä–µ–¥—å RabbitMQ. –ó–∞–¥–∞—á–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –∏–º—è –º–µ—Ç–æ–¥–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `video_processing.execute`) –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã.
2.  **–í–æ—Ä–∫–µ—Ä** (`RPCConsumer`) –ø–æ–ª—É—á–∞–µ—Ç –∑–∞–¥–∞—á—É –∏–∑ –æ—á–µ—Ä–µ–¥–∏.
3.  –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –∑–∞–¥–∞—á–∏ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ **`JSONRPCDispatcher`**, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–∑—ã–≤–∞–µ—Ç –Ω—É–∂–Ω—ã–π –º–µ—Ç–æ–¥ —É —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–≥–æ —Å–µ—Ä–≤–∏—Å–∞.
4.  –°–µ—Ä–≤–∏—Å –≤—ã–ø–æ–ª–Ω—è–µ—Ç –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ–±—Ä–∞–±–æ—Ç–∫—É –≤–∏–¥–µ–æ).
5.  –†–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è API-—Å–µ—Ä–≤–µ—Ä—É —á–µ—Ä–µ–∑ `reply_to` –æ—á–µ—Ä–µ–¥—å.
6.  API-—Å–µ—Ä–≤–µ—Ä –ø–æ–ª—É—á–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∏ –º–æ–∂–µ—Ç, –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏, —É–≤–µ–¥–æ–º–∏—Ç—å –∫–ª–∏–µ–Ω—Ç–∞.

–≠—Ç–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å –≤–æ—Ä–∫–µ—Ä—ã: –¥–ª—è —É–≤–µ–ª–∏—á–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –±–æ–ª—å—à–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ `worker.py`.

#### –ü—Ä–∏–º–µ—Ä RabbitMQ —Å–æ–æ–±—â–µ–Ω–∏—è

–í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –º–µ–∂–¥—É API-—Å–µ—Ä–≤–µ—Ä–æ–º –∏ –≤–æ—Ä–∫–µ—Ä–∞–º–∏ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ JSON-RPC 2.0 –∑–∞–ø—Ä–æ—Å—ã. –ü—Ä–∏–º–µ—Ä –≤—ã–∑–æ–≤–∞ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞:

```python
from src.transport.rabbitmq.producer import RPCProducer

producer = RPCProducer()
await producer.connect()

result = await producer.call(
    method="test.execute",
    params={"data": {"message": "Hello from RabbitMQ!"}},
    timeout=10.0
)
# –†–µ–∑—É–ª—å—Ç–∞—Ç: {'status': 'success', 'message': 'Test service received: ...', ...}
```

üìñ **–ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** [docs/TEST_SERVICE_RABBITMQ_EXAMPLE.md](docs/TEST_SERVICE_RABBITMQ_EXAMPLE.md)

### –£—Ç–∏–ª–∏—Ç—ã –∏ –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

#### –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å–æ —Å—Ç—Ä–æ–∫–∞–º–∏ (`utils/string_utils.py`)
- `to_snake_case()` - –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –∏–º–µ–Ω –∫–ª–∞—Å—Å–æ–≤ –≤ snake_case —Ñ–æ—Ä–º–∞—Ç
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –∏–º–µ–Ω –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

#### –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ñ–∞–π–ª–∞–º–∏ (`utils/files_utils.py`)
- –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–æ–π
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å —Ñ–∞–π–ª–∞–º–∏

#### –ö–∞—Å—Ç–æ–º–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ —Å–µ—Å—Å–∏–π (`utils/custom_session_store.py`)
- –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è `MemoryStore` —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π callback –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö —Å–µ—Å—Å–∏–π
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤—Ä–µ–º–µ–Ω–∏ –∂–∏–∑–Ω–∏ –∏ –ø–æ—Ä–æ–≥–æ–≤ GC

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ RabbitMQ

–î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–±–æ—Ç—ã RabbitMQ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –≤–æ—Ä–∫–µ—Ä –∏ —Ç–µ—Å—Ç:

```powershell
# –¢–µ—Ä–º–∏–Ω–∞–ª 1: –ó–∞–ø—É—Å–∫ –≤–æ—Ä–∫–µ—Ä–∞
python -m src.worker

# –¢–µ—Ä–º–∏–Ω–∞–ª 2: –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–∞
python test_rabbitmq.py
```

–¢–µ—Å—Ç –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –≤—ã–∑–æ–≤—ã —á–µ—Ä–µ–∑ JSON-RPC –∏ –≤—ã–≤–æ–¥–∏—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤—Å–µ—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫.

---

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```powershell
pip install -r requirements.txt
```

### –ó–∞–ø—É—Å–∫

```powershell
# –¢–µ—Ä–º–∏–Ω–∞–ª 1: API-—Å–µ—Ä–≤–µ—Ä
python -m src.app

# –¢–µ—Ä–º–∏–Ω–∞–ª 2: –í–æ—Ä–∫–µ—Ä –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–¥–∞—á
python -m src.worker
```

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É: http://localhost:8000

üìñ **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:**
- [–ü—Ä–∏–º–µ—Ä—ã RabbitMQ —Å–æ–æ–±—â–µ–Ω–∏–π](docs/TEST_SERVICE_RABBITMQ_EXAMPLE.md)
- [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞](docs/ARCHITECTURE.md)
